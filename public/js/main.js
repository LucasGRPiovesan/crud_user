(()=>{"use strict";var e={771:(e,t,o)=>{o.d(t,{s:()=>a});var n=o(704);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(i=n.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===r(a)?a:String(a)),n)}var i,a}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,r;return t=e,r=[{key:"createUser",value:function(e,t){var o=this;this.onBeforeSend=t.onListLoad,this.onSuccess=function(e){o._notify(e.message,"success"),t.updateList()},this.onError=function(e){console.log(e),o._notify(e.responseJSON.message,"error")},this.onComplete=t.onListComplete,n.f.create(e,this)}},{key:"editUser",value:function(e,t,o){var r=this;this.onBeforeSend=o.onListLoad,this.onSuccess=function(e){r._notify(e.message,"success"),o.updateList()},this.onError=function(e){r._notify(e.responseJSON.message,"error")},this.onComplete=o.onListComplete,n.f.edit(e,t,this)}},{key:"deleteUser",value:function(e,t){var o=this;this.onBeforeSend=t.onListLoad,this.onSuccess=function(e){o._notify(e.message,"success"),t.updateList()},this.onError=function(e){o._notify(e.responseJSON.message,"error")},this.onComplete=t.onListComplete,n.f.delete(e,this)}},{key:"listUsers",value:function(e){var t=this;this.onBeforeSend=e.onListLoad,this.onSuccess=e.onListSuccess,this.onError=function(e){t._notify(e.message,"error")},this.onComplete=e.onListComplete,n.f.getAll(this)}},{key:"getUser",value:function(e,t){var o=this;this.onBeforeSend=t.onModalLoad,this.onSuccess=t.onGetUserSuccess,this.onError=function(e){o._notify(e.responseJSON.message,"error")},this.onComplete=t.onModalComplete,n.f.get(e,this)}},{key:"_notify",value:function(e,t){Swal.fire(e,"",t)}}],(o=null)&&i(t.prototype,o),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},682:(e,t,o)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,a=function(e,t){if("object"!==n(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===n(a)?a:String(a)),r)}var i,a}o.d(t,{G:()=>i});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,n;return t=e,n=[{key:"CPF",value:function(e){return e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}},{key:"CEP",value:function(e){return e.replace(/^(\d{5})(\d{3})$/,"$1-$2")}},{key:"phone",value:function(e){return e.replace(/^(\d{2})(\d{5})(\d{4})$/,"($1) $2-$3")}},{key:"date",value:function(e){return moment(e).format("DD/MM/YYYY [às] HH:mm")}}],(o=null)&&r(t.prototype,o),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},643:(e,t,o)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,a=function(e,t){if("object"!==n(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===n(a)?a:String(a)),r)}var i,a}o.d(t,{C:()=>i});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,n;return t=e,n=[{key:"CPF",value:function(e){if(11!==(e=e.replace(/[^\d]+/g,"")).length||/^(.)\1+$/.test(e))return!1;for(var t,o=0,n=1;n<=9;n++)o+=parseInt(e.substring(n-1,n))*(11-n);if(10!=(t=10*o%11)&&11!==t||(t=0),t!==parseInt(e.substring(9,10)))return!1;for(o=0,n=1;n<=10;n++)o+=parseInt(e.substring(n-1,n))*(12-n);return 10!=(t=10*o%11)&&11!==t||(t=0),t===parseInt(e.substring(10,11))}},{key:"CEP",value:function(e){return 8===(e=e.replace(/\D/g,"")).length&&/^[0-9]{5}-?[0-9]{3}$/.test(e)}},{key:"phone",value:function(e){return!((e=e.replace(/\D/g,"").trim()).length<10||e.length>11)&&/^[1-9]{2}[0-9]{4,5}[0-9]{4}$/.test(e)}},{key:"date",value:function(e){return moment(e)>moment()}}],(o=null)&&r(t.prototype,o),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},625:(e,t,o)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,a=function(e,t){if("object"!==n(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===n(a)?a:String(a)),r)}var i,a}o.d(t,{t:()=>i});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,n;return t=e,n=[{key:"_request",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;$.ajax({url:"/api/".concat(t),type:e,data:o,beforeSend:function(){n.onBeforeSend&&n.onBeforeSend()},success:function(e){n.onSuccess&&n.onSuccess(e)},error:function(e){n.onError&&n.onError(e)},complete:function(){n.onComplete&&n.onComplete()}})}}],(o=null)&&r(t.prototype,o),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},704:(e,t,o)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,a=function(e,t){if("object"!==n(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===n(a)?a:String(a)),r)}var i,a}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=l(e);if(t){var i=l(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,o)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}o.d(t,{f:()=>u});var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(u,e);var t,o,n,l=a(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),l.apply(this,arguments)}return t=u,n=[{key:"create",value:function(e,t){this._request("POST","users",e,t)}},{key:"edit",value:function(e,t,o){this._request("PATCH","user/".concat(e),t,o)}},{key:"delete",value:function(e,t){this._request("DELETE","user/".concat(e),{},t)}},{key:"getAll",value:function(e){this._request("GET","users",{},e)}},{key:"get",value:function(e,t){this._request("GET","user/".concat(e),{},t)}}],(o=null)&&r(t.prototype,o),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(o(625).t)}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e,t=o(771),n=o(682),r=o(643);function i(){$("table").addClass("d-none"),$(".list-field").addClass("d-flex justify-content-center align-items-center"),$(".list-field .custom-loader").removeClass("d-none")}function a(e){$("tbody").html(""),$("tbody").append(e.map((function(e){return'\n            <tr \n                data-uuid="'.concat(e.uuid,'"\n                data-bs-toggle="modal" data-bs-target="#modalEdit"\n            >\n                <td>').concat(e.name,"</td>\n                <td>").concat(n.G.CPF(e.cpf),"</td>\n                <td>").concat(n.G.phone(e.phone),"</td>\n                <td>").concat(n.G.CEP(e.cep),"</td>\n                <td>").concat(n.G.date(e.updated_at),"</td>\n            </tr>\n        ")}))),$("tbody tr").on("click",(function(){var e=$(this).data("uuid").trim();t.s.getUser(e,{onModalLoad:u,onGetUserSuccess:s,onModalComplete:c})}))}function l(){t.s.listUsers({onListLoad:i,onListSuccess:a,onListComplete:f})}function u(){$(".modal-body__content").addClass("d-none"),$(".modal-body").addClass("d-flex justify-content-center align-items-center"),$(".modal-body .custom-loader").removeClass("d-none")}function s(t){e=t.uuid,$("#editName").val(t.name),$("#editCpf").val(n.G.CPF(t.cpf)),$("#editBorn").val(t.born.slice(0,10)),$("#editPhone").val(n.G.phone(t.phone)),$("#editAddress").val(t.address),$("#editNumber").val(t.number),$("#editNeighborhood").val(t.neighborhood),$("#editComplement").val(t.complement),$("#editState").val(t.state),$("#editCity").val(t.city),$("#editCep").val(n.G.CEP(t.cep))}function c(){$(".modal-body .custom-loader").addClass("d-none"),$(".modal-body").removeClass("d-flex justify-content-center align-items-center"),$(".modal-body__content").removeClass("d-none")}function f(){$(".list-field .custom-loader").addClass("d-none"),$(".list-field").removeClass("d-flex justify-content-center align-items-center"),$("table").removeClass("d-none")}$("#editUser").on("click",(function(){(function(){if(!$("#editName").val())return Swal.fire("Nome obrigatório!","O campo Nome é obrigatório.","warning"),!1;if(!$("#editCpf").val())return Swal.fire("CPF obrigatório!","O campo CPF é obrigatório.","warning"),!1;if(!$("#editBorn").val())return Swal.fire("Data é obrigatória!","O campo Data de Nascimento é obrigatório.","warning"),!1;if(!$("#editPhone").val())return Swal.fire("Telefone é obrigatório!","O campo Telefone é obrigatório.","warning"),!1;if(!$("#editAddress").val())return Swal.fire("Endereço obrigatório!","O campo Endereço é obrigatório.","warning"),!1;if(!$("#editNumber").val())return Swal.fire("Número obrigatório!","O campo Número é obrigatório.","warning"),!1;if(!$("#editNeighborhood").val())return Swal.fire("Bairro obrigatório!","O campo Bairro é obrigatório.","warning"),!1;if(!$("#editState").val())return Swal.fire("Estado obrigatório!","O campo Estado é obrigatório.","warning"),!1;if(!$("#editCity").val())return Swal.fire("Cidade obrigatório!","O campo Cidade é obrigatório.","warning"),!1;if(!$("#editCep").val())return Swal.fire("CEP obrigatório!","O campo CEP é obrigatório.","warning"),!1;if(!r.C.CPF($("#editCpf").val()))return Swal.fire("CPF inválido!","Por favor, informe um CPF válido.","warning"),!1;if(!r.C.phone($("#editPhone").val()))return Swal.fire("Telefone inválido!","Por favor, informe um telefone válido.","warning"),!1;if(!r.C.CEP($("#editCep").val()))return Swal.fire("CEP inválido!","Por favor, informe um CEP válido.","warning"),!1;if(r.C.date($("#editBorn").val()))return Swal.fire("Data inválida!","Data de nascimento não pode ser superior a data atual.","warning"),!1;return $("#modalEdit").modal("hide"),!0})()&&t.s.editUser(e,{name:$("#editName").val(),cpf:$("#editCpf").cleanVal(),born:$("#editBorn").val(),phone:$("#editPhone").cleanVal(),address:$("#editAddress").val(),number:$("#editNumber").val(),neighborhood:$("#editNeighborhood").val(),complement:$("#editComplement").val(),state:$("#editState").val(),city:$("#editCity").val(),cep:$("#editCep").cleanVal()},{onListLoad:i,updateList:l,onListComplete:f})})),$("#deleteUser").on("click",(function(){t.s.deleteUser(e,{onListLoad:i,updateList:l,onListComplete:f})})),$("#form-create-user").on("submit",(function(e){e.preventDefault(),r.C.CPF($("#cpf").val())?r.C.phone($("#phone").val())?r.C.CEP($("#cep").val())?r.C.date($("#born").val())?Swal.fire("Data inválida!","Data de nascimento não pode ser superior a data atual.","warning"):(t.s.createUser({name:$("#name").val(),cpf:$("#cpf").cleanVal(),born:moment($("#born").val()).format("YYYY-MM-DD HH:mm:ss"),phone:$("#phone").cleanVal(),address:$("#address").val(),number:$("#number").val(),neighborhood:$("#neighborhood").val(),complement:$("#complement").val(),state:$("#state").val(),city:$("#city").val(),cep:$("#cep").cleanVal()},{onListLoad:i,updateList:l,onListComplete:f}),$("input[type='text'], input[type='date'], input[type='tel'], select").val("")):Swal.fire("CEP inválido!","Por favor, informe um CEP válido.","warning"):Swal.fire("Telefone inválido!","Por favor, informe um telefone válido.","warning"):Swal.fire("CPF inválido!","Por favor, informe um CPF válido.","warning")})),$(document).ready((function(){$("#cpf").mask("000.000.000-00",{reverse:!0}),$("#editCpf").mask("000.000.000-00",{reverse:!0}),$("#cep").mask("00000-000"),$("#editCep").mask("00000-000"),$("#phone").mask("(00) 00000-0000"),$("#editPhone").mask("(00) 00000-0000"),t.s.listUsers({onListLoad:i,onListSuccess:a,onListComplete:f})}))})()})();